import { adaptMetricsOrderToCore } from './adaptMetricsOrderToCore'

describe('adaptMetricsOrderToCore', () => {
  it('should adapt metrics order to core', () => {
    const coreMetricsOrder = adaptMetricsOrderToCore({
      id: 'qLmgAdgPnb',
      adjustment_amount: 0,
      adjustment_tax_amount: 0,
      adjustment_taxable_amount: 0,
      country_code: 'IT',
      created_at: '2024-08-28T09:01:01.253Z',
      currency_code: 'EUR',
      discount_amount: 0,
      fulfillment_status: 'unfulfilled',
      gift_card_amount: 0,
      guest: false,
      language_code: 'en',
      line_item_options_count: 0,
      number: '2579416',
      payment_method_amount: 0,
      payment_method_tax_amount: 0,
      payment_method_taxable_amount: 0,
      payment_status: 'authorized',
      payment_updated_at: '2024-08-28T09:01:02.171Z',
      placed_at: '2024-08-28T09:01:02.225Z',
      shipments_count: 1,
      shipping_amount: 0,
      shipping_taxable_amount: 0,
      skus_count: 2,
      status: 'placed',
      subtotal_amount: 58,
      subtotal_tax_amount: 0,
      subtotal_taxable_amount: 58,
      tax_included: true,
      total_amount: 58,
      total_amount_with_taxes: 58,
      total_tax_amount: 0,
      total_taxable_amount: 58,
      returned: false,
      updated_at: '2024-08-28T09:01:02.245Z',
      seconds_in_draft: 1,
      refunded: false,
      refunds_total_amount_with_taxes: 0,
      total_amount_with_taxes_net_of_refunds: 58,
      aggregated_details: 'REDACTED',
      mode: 'test',
      placed_day_of_week: 3,
      discounted: false,
      gift_card: false,
      coupon: false,
      options: false,
      archived: false,
      market: {
        id: 'marketId',
        name: 'Europe',
        number: '350'
      },
      billing_address: {
        business: false,
        city: 'Prato',
        country_code: 'IT',
        geocoded: false,
        localized: false,
        state_code: 'FI',
        zip_code: '12222',
        first_name: 'John',
        last_name: 'Doe'
      },
      type: 'orders'
    })
    expect(coreMetricsOrder).toEqual({
      id: 'qLmgAdgPnb',
      type: 'orders',
      created_at: '2024-08-28T09:01:01.253Z',
      updated_at: '2024-08-28T09:01:02.245Z',
      number: 2579416,
      status: 'placed',
      payment_status: 'authorized',
      fulfillment_status: 'unfulfilled',
      guest: false,
      language_code: 'en',
      currency_code: 'EUR',
      tax_included: true,
      payment_method_taxable: false,
      adjustment_taxable: false,
      country_code: 'IT',
      coupon_code: null,
      gift_card_code: null,
      subtotal_amount_cents: 5800,
      subtotal_amount_float: 58,
      formatted_subtotal_amount: '€58,00',
      shipping_amount_cents: 0,
      shipping_amount_float: 0,
      formatted_shipping_amount: '€0,00',
      payment_method_amount_cents: 0,
      payment_method_amount_float: 0,
      formatted_payment_method_amount: '€0,00',
      discount_amount_cents: 0,
      discount_amount_float: 0,
      formatted_discount_amount: '€0,00',
      adjustment_amount_cents: 0,
      adjustment_amount_float: 0,
      formatted_adjustment_amount: '€0,00',
      gift_card_amount_cents: 0,
      gift_card_amount_float: 0,
      formatted_gift_card_amount: '€0,00',
      total_tax_amount_cents: 0,
      total_tax_amount_float: 0,
      formatted_total_tax_amount: '€0,00',
      subtotal_tax_amount_cents: 0,
      subtotal_tax_amount_float: 0,
      formatted_subtotal_tax_amount: '€0,00',
      payment_method_tax_amount_cents: 0,
      payment_method_tax_amount_float: 0,
      formatted_payment_method_tax_amount: '€0,00',
      adjustment_tax_amount_cents: 0,
      adjustment_tax_amount_float: 0,
      formatted_adjustment_tax_amount: '€0,00',
      total_amount_cents: 5800,
      total_amount_float: 58,
      formatted_total_amount: '€58,00',
      total_taxable_amount_cents: 5800,
      total_taxable_amount_float: 58,
      formatted_total_taxable_amount: '€58,00',
      subtotal_taxable_amount_cents: 5800,
      subtotal_taxable_amount_float: 58,
      formatted_subtotal_taxable_amount: '€58,00',
      shipping_taxable_amount_cents: 0,
      shipping_taxable_amount_float: 0,
      formatted_shipping_taxable_amount: '€0,00',
      payment_method_taxable_amount_cents: 0,
      payment_method_taxable_amount_float: 0,
      formatted_payment_method_taxable_amount: '€0,00',
      adjustment_taxable_amount_cents: 0,
      adjustment_taxable_amount_float: 0,
      formatted_adjustment_taxable_amount: '€0,00',
      total_amount_with_taxes_cents: 5800,
      total_amount_with_taxes_float: 58,
      formatted_total_amount_with_taxes: '€58,00',
      skus_count: 2,
      line_item_options_count: 0,
      shipments_count: 1,
      placed_at: '2024-08-28T09:01:02.225Z',
      payment_updated_at: '2024-08-28T09:01:02.171Z',
      archived_at: null,
      market: {
        id: 'marketId',
        type: 'markets',
        created_at: '',
        updated_at: '',
        shared_secret: '',
        name: 'Europe',
        number: 350
      },
      billing_address: {
        id: '',
        type: 'addresses',
        created_at: '',
        updated_at: '',
        first_name: 'John',
        last_name: 'Doe',
        full_name: 'John Doe',
        line_1: '',
        line_2: '',
        city: 'Prato',
        zip_code: '12222',
        state_code: 'FI',
        country_code: 'IT',
        phone: ''
      }
    })
  })
})
